<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="_r_e_a_d_m_e_8md" kind="file" language="Markdown">
    <compoundname>README.md</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">#<sp/>Research<sp/>Track<sp/>2<sp/>-<sp/>First<sp/>Assignment<sp/>4482512<sp/>Enrico<sp/>Fiasche&apos;<sp/>(Robotics<sp/>Engineering<sp/>/<sp/>JEMARO,<sp/>Unige)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>General<sp/>information</highlight></codeline>
<codeline><highlight class="normal">The<sp/>assignment<sp/>requires<sp/>developing<sp/>a<sp/>software<sp/>architecture<sp/>for<sp/>the<sp/>control<sp/>of<sp/>a<sp/>robot<sp/>in<sp/>the<sp/>environment.<sp/>The<sp/>**go_to_point**<sp/>node</highlight></codeline>
<codeline><highlight class="normal">must<sp/>be<sp/>modelled<sp/>as<sp/>a<sp/>ROS<sp/>action<sp/>server.</highlight></codeline>
<codeline><highlight class="normal">During<sp/>the<sp/>simulation,<sp/>the<sp/>user<sp/>can<sp/>press<sp/>&quot;1&quot;<sp/>to<sp/>give<sp/>a<sp/>random<sp/>goal<sp/>to<sp/>the<sp/>robot,<sp/>and<sp/>then<sp/>press<sp/>&quot;0&quot;<sp/>to<sp/>stop<sp/>the<sp/>robot.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Nodes<sp/>and<sp/>program<sp/>description</highlight></codeline>
<codeline><highlight class="normal">In<sp/>the<sp/>assignment<sp/>there<sp/>are<sp/>four<sp/>different<sp/>program<sp/>used<sp/>to<sp/>achieve<sp/>the<sp/>goal<sp/>required<sp/>by<sp/>the<sp/>assignment.</highlight></codeline>
<codeline><highlight class="normal">The<sp/>program<sp/>are<sp/>writtten<sp/>two<sp/>in<sp/>Python<sp/>and<sp/>two<sp/>in<sp/>C++:</highlight></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>first<sp/>one,<sp/>**go_to_point.py**,<sp/>is<sp/>an<sp/>_action<sp/>server_<sp/>used<sp/>to<sp/>reach<sp/>a<sp/>given<sp/>goal.<sp/>This<sp/>node<sp/>use<sp/>a<sp/>publisher,<sp/>which<sp/>publishes</highlight></codeline>
<codeline><highlight class="normal">the<sp/>velocity<sp/>of<sp/>the<sp/>robot<sp/>through<sp/>the<sp/>_cmd\_vel_<sp/>topic,<sp/>and<sp/>a<sp/>subscriber,<sp/>which<sp/>checks<sp/>the<sp/>position<sp/>of<sp/>the<sp/>robot<sp/>through<sp/>the<sp/>_odom_</highlight></codeline>
<codeline><highlight class="normal">topic.<sp/>If<sp/>a<sp/>new<sp/>goal<sp/>is<sp/>set,<sp/>this<sp/>node<sp/>fix<sp/>the<sp/>yaw<sp/>angle<sp/>in<sp/>order<sp/>to<sp/>be<sp/>aligned<sp/>with<sp/>the<sp/>goal,<sp/>then<sp/>the<sp/>robot<sp/>can<sp/>go<sp/>straight<sp/>towards</highlight></codeline>
<codeline><highlight class="normal">the<sp/>target<sp/>point<sp/>and<sp/>finally,<sp/>when<sp/>the<sp/>robot<sp/>is<sp/>near<sp/>the<sp/>desired<sp/>position,<sp/>it<sp/>can<sp/>fix<sp/>the<sp/>final<sp/>yaw<sp/>angle<sp/>in<sp/>order<sp/>to<sp/>have<sp/>the<sp/>same</highlight></codeline>
<codeline><highlight class="normal">orientation<sp/>of<sp/>the<sp/>given<sp/>goal.<sp/>During<sp/>these<sp/>operations,<sp/>the<sp/>node<sp/>checks<sp/>continuously<sp/>if<sp/>the<sp/>goal<sp/>is<sp/>canceled<sp/>in<sp/>order<sp/>to<sp/>stop<sp/>the<sp/></highlight></codeline>
<codeline><highlight class="normal">robot.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>second<sp/>one,<sp/>**user_interface**,<sp/>is<sp/>a<sp/>client<sp/>used<sp/>to<sp/>read<sp/>the<sp/>user<sp/>command<sp/>and<sp/>to<sp/>send<sp/>it<sp/>to<sp/>the<sp/>**state_machine**<sp/>node.</highlight></codeline>
<codeline><highlight class="normal">This<sp/>node<sp/>sends<sp/>the<sp/>new<sp/>command<sp/>through<sp/>the<sp/>service<sp/>message<sp/>_Command_<sp/>and<sp/>has<sp/>an<sp/>action<sp/>client,<sp/>which<sp/>is<sp/>connected<sp/>to<sp/>**go_to_point**.</highlight></codeline>
<codeline><highlight class="normal">It<sp/>is<sp/>managed<sp/>by<sp/>the<sp/>Jupyter<sp/>Notebook,<sp/>Now<sp/>the<sp/>user<sp/>interface<sp/>is<sp/>able<sp/>of:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>starting/stopping<sp/>the<sp/>robot<sp/>&quot;random<sp/>position&quot;<sp/>behaviour<sp/>by<sp/>using<sp/>two<sp/>buttons</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>setting<sp/>the<sp/>linear<sp/>and<sp/>angular<sp/>velocity<sp/>by<sp/>using<sp/>two<sp/>sliders</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>controlling<sp/>the<sp/>robot<sp/>movements<sp/>by<sp/>using<sp/>5<sp/>buttons<sp/>(on<sp/>for<sp/>each<sp/>direction<sp/>+<sp/>button<sp/>stop)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>The<sp/>notebook<sp/>has<sp/>a<sp/>section<sp/>for<sp/>displaying<sp/>some<sp/>graphical<sp/>information,<sp/>in<sp/>particular:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>a<sp/>line<sp/>plot<sp/>for<sp/>compare<sp/>the<sp/>cmd_vel<sp/>and<sp/>actual<sp/>velocity<sp/>(odom)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>a<sp/>bar<sp/>plot<sp/>displaying<sp/>the<sp/>number<sp/>of<sp/>reached<sp/>targets<sp/>and<sp/>canceled<sp/>targets</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>a<sp/>hist<sp/>plot<sp/>showing<sp/>the<sp/>time<sp/>required<sp/>to<sp/>reach<sp/>targets</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>an<sp/>xy<sp/>graph<sp/>showing<sp/>the<sp/>robot&apos;s<sp/>position<sp/>and<sp/>orientation.<sp/>If<sp/>the<sp/>user<sp/>presses<sp/>&quot;1&quot;,</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>third<sp/>one,<sp/>**position_service.cpp**,<sp/>is<sp/>a<sp/>simple<sp/>server<sp/>that<sp/>generates<sp/>three<sp/>random<sp/>number.<sp/>This<sp/>node<sp/>uses<sp/>the<sp/>service<sp/>message</highlight></codeline>
<codeline><highlight class="normal">_RandomPosition_<sp/>which<sp/>has<sp/>as<sp/>request<sp/>the<sp/>minimum<sp/>and<sp/>maximum<sp/>value<sp/>allowed<sp/>for<sp/>the<sp/>x<sp/>and<sp/>y<sp/>position,<sp/>and<sp/>it<sp/>has<sp/>as<sp/>response<sp/>the</highlight></codeline>
<codeline><highlight class="normal">three<sp/>coordinates<sp/>of<sp/>the<sp/>random<sp/>goal<sp/>(x,y<sp/>posiion<sp/>and<sp/>the<sp/>orientation<sp/>theta).</highlight></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>last<sp/>one,<sp/>**state_machine.cpp**,<sp/>is<sp/>a<sp/>node<sp/>used<sp/>to<sp/>communicate<sp/>with<sp/>all<sp/>the<sp/>other<sp/>nodes.<sp/>This<sp/>one<sp/>has<sp/>a<sp/>simple<sp/>client,<sp/>which</highlight></codeline>
<codeline><highlight class="normal">is<sp/>connected<sp/>to<sp/>the<sp/>**position_service.cpp**<sp/>in<sp/>order<sp/>to<sp/>receive<sp/>the<sp/>next<sp/>goal,<sp/>a<sp/>server,<sp/>which<sp/>receives<sp/>the<sp/>request<sp/>done<sp/></highlight></codeline>
<codeline><highlight class="normal">by<sp/>the<sp/>user<sp/>through<sp/>the<sp/>**user_interface**<sp/>node,<sp/>and<sp/>an<sp/>action<sp/>client,<sp/>which<sp/>is<sp/>used<sp/>to<sp/>send<sp/>new<sp/>goals<sp/>and<sp/>to<sp/>check<sp/>if<sp/>a<sp/>target<sp/>is</highlight></codeline>
<codeline><highlight class="normal">reached.</highlight></codeline>
<codeline><highlight class="normal">Before<sp/>start<sp/>searching<sp/>a<sp/>new<sp/>goal<sp/>the<sp/>state<sp/>machine<sp/>checks<sp/>if<sp/>there<sp/>is<sp/>a<sp/>_Command_<sp/>request<sp/>from<sp/>a<sp/>client,<sp/>then<sp/>if<sp/>the<sp/>user<sp/>command</highlight></codeline>
<codeline><highlight class="normal">is<sp/>&quot;_start_&quot;<sp/>the<sp/>node<sp/>make<sp/>a<sp/>request<sp/>to<sp/>**position_service.cpp**<sp/>receiving<sp/>a<sp/>goal<sp/>between<sp/>-5.0<sp/>and<sp/>5.0,<sp/>regarding<sp/>x<sp/>and<sp/>y<sp/>position,</highlight></codeline>
<codeline><highlight class="normal">and<sp/>the<sp/>theta<sp/>orientation,<sp/>then<sp/>the<sp/>state<sp/>machine<sp/>sends<sp/>this<sp/>goal<sp/>to<sp/>the<sp/>server<sp/>using<sp/>the<sp/>action<sp/>client<sp/>and<sp/>waits<sp/>for<sp/>a<sp/>result,</highlight></codeline>
<codeline><highlight class="normal">which<sp/>could<sp/>be<sp/>a<sp/>&quot;success&quot;<sp/>in<sp/>case<sp/>of<sp/>goal<sp/>reached<sp/>and<sp/>a<sp/>&quot;failure&quot;<sp/>in<sp/>case<sp/>of<sp/>goal<sp/>canceled.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Launch<sp/>files</highlight></codeline>
<codeline><highlight class="normal">In<sp/>the<sp/>folder<sp/>_launch_<sp/>there<sp/>are<sp/>two<sp/>different<sp/>launch<sp/>files:</highlight></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>first<sp/>one,<sp/>**gazeboSim.launch**,<sp/>used<sp/>to<sp/>launch<sp/>the<sp/>Gazebo<sp/>environment<sp/>and<sp/>to<sp/>run<sp/>the<sp/>four<sp/>nodes<sp/>together.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>second<sp/>one,<sp/>**vrepSim.launch**,<sp/>used<sp/>to<sp/>launch<sp/>only<sp/>the<sp/>four<sp/>nodes<sp/>together.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>How<sp/>to<sp/>run<sp/>the<sp/>code</highlight></codeline>
<codeline><highlight class="normal">###<sp/>Simulation<sp/>with<sp/>Gazebo</highlight></codeline>
<codeline><highlight class="normal">The<sp/>package<sp/>contains<sp/>the<sp/>nodes<sp/>and<sp/>the<sp/>simulation<sp/>environment<sp/>for<sp/>controlling<sp/>a<sp/>mobile<sp/>robot<sp/>in<sp/>the<sp/>Gazebo<sp/>simulation<sp/>environment.</highlight></codeline>
<codeline><highlight class="normal">Before<sp/>launching<sp/>the<sp/>node,<sp/>please<sp/>source<sp/>your<sp/>ROS<sp/>workspace,<sp/>just<sp/>writing<sp/>this<sp/>on<sp/>the<sp/>terminal:</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">source<sp/>path_your_workspace/devel/setup.bash</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">To<sp/>launch<sp/>the<sp/>nodes,<sp/>please<sp/>run:</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>rt2_assignment1<sp/>gazeboSim.launch</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">###<sp/>Simulation<sp/>with<sp/>VRep</highlight></codeline>
<codeline><highlight class="normal">You<sp/>can<sp/>also<sp/>run<sp/>the<sp/>simulation<sp/>using<sp/>**VRep**.</highlight></codeline>
<codeline><highlight class="normal">You<sp/>need<sp/>three<sp/>different<sp/>terminal<sp/>to<sp/>run<sp/>this<sp/>simulation.</highlight></codeline>
<codeline><highlight class="normal">In<sp/>the<sp/>first<sp/>one<sp/>you<sp/>need<sp/>to<sp/>source<sp/>your<sp/>ROS<sp/>workspace<sp/>(or<sp/>sourcing<sp/>directly<sp/>ros.sh)<sp/>and<sp/>run<sp/>roscore:</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">source<sp/>path_your_workspace/devel/setup.bash</highlight></codeline>
<codeline><highlight class="normal">roscore</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">In<sp/>the<sp/>second<sp/>terminal<sp/>you<sp/>need<sp/>to<sp/>launch<sp/>**CoppeliaSim**:</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">source<sp/>path_your_workspace/devel/setup.bash</highlight></codeline>
<codeline><highlight class="normal">cd<sp/>path_CoppeliaSim/</highlight></codeline>
<codeline><highlight class="normal">./coppeliaSim.sh</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">When<sp/>the<sp/>CoppeliaSim<sp/>program<sp/>is<sp/>running,<sp/>open<sp/>the<sp/>scene<sp/>&quot;vrepSceneR2D2.ttt&quot;<sp/>inside<sp/>the<sp/>rt2_assignment1<sp/>package<sp/>and<sp/>start<sp/>the<sp/>simulation</highlight></codeline>
<codeline><highlight class="normal">pressing<sp/>play.</highlight></codeline>
<codeline><highlight class="normal">In<sp/>the<sp/>last<sp/>terminal<sp/>launch<sp/>the<sp/>nodes:</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">source<sp/>path_your_workspace/devel/setup.bash</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>rt2_assignment1<sp/>vrepSim.launch</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
    </programlisting>
    <location file="README.md"/>
  </compounddef>
</doxygen>
